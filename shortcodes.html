<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Shortcodes Reference – Academic-CV Template</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ff4f6734ba487c3cc65a16bd4fb647f8.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-6aa3019ae6eb6f1fa687e445625d9633.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ff4f6734ba487c3cc65a16bd4fb647f8.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-97eed7c210cdb728c6eae499507f3470.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-a6725191414cfcd65cf7cad094098292.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-97eed7c210cdb728c6eae499507f3470.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Academic-CV Template</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-how-to-get-started" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">How to get started</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-how-to-get-started">    
        <li>
    <a class="dropdown-item" href="./installation.html">
 <span class="dropdown-text">Installation</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./tutorial.html">
 <span class="dropdown-text">Using the Template</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./data_integration.html">
 <span class="dropdown-text">Data Integration</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-advanced-usage" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Advanced Usage</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-advanced-usage">    
        <li>
    <a class="dropdown-item" href="./styling.html">
 <span class="dropdown-text">Styling</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./structure.html">
 <span class="dropdown-text">Structure</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./update_template.html">
 <span class="dropdown-text">Template Update</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-references" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">References</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-references">    
        <li>
    <a class="dropdown-item" href="./shortcodes.html">
 <span class="dropdown-text">Shortcodes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./yaml_reference.html">
 <span class="dropdown-text">YAML Reference</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./acknowledgements.html"> 
<span class="menu-text">Acknowledgements</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/orehren/acvt" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sec-cv-section" id="toc-sec-cv-section" class="nav-link active" data-scroll-target="#sec-cv-section">1. Rendering CV Sections (<code>{{&lt; cv-section &gt;}}</code>)</a>
  <ul class="collapse">
  <li><a href="#arguments" id="toc-arguments" class="nav-link" data-scroll-target="#arguments">Arguments</a></li>
  <li><a href="#the-mapping-logic-hybrid-mode" id="toc-the-mapping-logic-hybrid-mode" class="nav-link" data-scroll-target="#the-mapping-logic-hybrid-mode">The Mapping Logic (Hybrid Mode)</a></li>
  <li><a href="#string-interpolation-aggregation" id="toc-string-interpolation-aggregation" class="nav-link" data-scroll-target="#string-interpolation-aggregation">String Interpolation &amp; Aggregation</a></li>
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples">Examples</a></li>
  <li><a href="#tidy-selection-helpers" id="toc-tidy-selection-helpers" class="nav-link" data-scroll-target="#tidy-selection-helpers">Tidy Selection Helpers</a></li>
  </ul></li>
  <li><a href="#displaying-the-publications-list-.quarto-shortcode__-param-data-is-shortcode1-data-valuepublications-list-data-rawpublications-list-.quarto-shortcode__-data-is-shortcode1-data-raw-publications-list" id="toc-displaying-the-publications-list-.quarto-shortcode__-param-data-is-shortcode1-data-valuepublications-list-data-rawpublications-list-.quarto-shortcode__-data-is-shortcode1-data-raw-publications-list" class="nav-link" data-scroll-target="#displaying-the-publications-list-.quarto-shortcode__-param-data-is-shortcode1-data-valuepublications-list-data-rawpublications-list-.quarto-shortcode__-data-is-shortcode1-data-raw-publications-list">2. Displaying the Publications List (<code>{{&lt; publications-list &gt;}}</code>)</a>
  <ul class="collapse">
  <li><a href="#arguments-1" id="toc-arguments-1" class="nav-link" data-scroll-target="#arguments-1">Arguments</a></li>
  <li><a href="#configuration-interaction" id="toc-configuration-interaction" class="nav-link" data-scroll-target="#configuration-interaction">Configuration &amp; Interaction</a></li>
  <li><a href="#author-highlighting" id="toc-author-highlighting" class="nav-link" data-scroll-target="#author-highlighting">Author Highlighting</a></li>
  </ul></li>
  <li><a href="#visualizing-skills-.quarto-shortcode__-param-data-is-shortcode1-data-valuevisualize-skills-data-rawvisualize-skills-.quarto-shortcode__-data-is-shortcode1-data-raw-visualize-skills" id="toc-visualizing-skills-.quarto-shortcode__-param-data-is-shortcode1-data-valuevisualize-skills-data-rawvisualize-skills-.quarto-shortcode__-data-is-shortcode1-data-raw-visualize-skills" class="nav-link" data-scroll-target="#visualizing-skills-.quarto-shortcode__-param-data-is-shortcode1-data-valuevisualize-skills-data-rawvisualize-skills-.quarto-shortcode__-data-is-shortcode1-data-raw-visualize-skills">3. Visualizing Skills (<code>{{&lt; visualize-skills &gt;}}</code>)</a>
  <ul class="collapse">
  <li><a href="#prerequisites" id="toc-prerequisites" class="nav-link" data-scroll-target="#prerequisites">Prerequisites</a></li>
  <li><a href="#usage" id="toc-usage" class="nav-link" data-scroll-target="#usage">Usage</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Shortcodes Reference</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This chapter provides a detailed reference for the shortcodes included in the extension. These tools allow you to dynamically fetch, filter, and format your data from Google Sheets or local files without writing complex code.</p>
<section id="sec-cv-section" class="level2">
<h2 class="anchored" data-anchor-id="sec-cv-section">1. Rendering CV Sections (<code>{{&lt; cv-section &gt;}}</code>)</h2>
<p>The <code>cv-section</code> shortcode is the primary tool for building your CV. It acts as a bridge between your data and the layout: it fetches a specific dataset (sheet) and processes it row by row, mapping data columns to the arguments of a selected Typst layout function.</p>
<section id="arguments" class="level3">
<h3 class="anchored" data-anchor-id="arguments">Arguments</h3>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Argument</th>
<th style="text-align: left;">Description</th>
<th style="text-align: left;">Default</th>
<th style="text-align: left;">Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>sheet</code></td>
<td style="text-align: left;"><strong>Required.</strong> The <code>shortname</code> of the data sheet to load (defined in your YAML configuration).</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><code>sheet="working"</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>func</code></td>
<td style="text-align: left;"><strong>Optional.</strong> The Typst function to use for rendering. This determines the grid layout.</td>
<td style="text-align: left;"><code>"resume-entry"</code></td>
<td style="text-align: left;"><code>func="resume-entry"</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>pos-&lt;N&gt;</code></td>
<td style="text-align: left;"><strong>The Mapping Engine.</strong> Defines the content for the <strong>Nth</strong> argument (grid position) of the Typst function. Supports tidy style selection helpers, string interpolation and <strong>column aggregation</strong> (e.g., <code>"{starts_with('det') \| , }"</code>).</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;"><code>pos-0="{Date}"</code></td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>exclude-cols</code></td>
<td style="text-align: left;">Columns to exclude from the <strong>Auto-Fill</strong> process. Supports tidy style selection helpers.</td>
<td style="text-align: left;"><code>""</code></td>
<td style="text-align: left;"><code>exclude-cols="id, notes"</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>na-action</code></td>
<td style="text-align: left;">Action for empty values: <code>"omit"</code> (pass empty string), <code>"keep"</code> (pass <code>none</code>), <code>"string"</code> (pass <code>"NA"</code>).</td>
<td style="text-align: left;"><code>"omit"</code></td>
<td style="text-align: left;"><code>na-action="string"</code></td>
</tr>
</tbody>
</table>
<hr>
</section>
<section id="the-mapping-logic-hybrid-mode" class="level3">
<h3 class="anchored" data-anchor-id="the-mapping-logic-hybrid-mode">The Mapping Logic (Hybrid Mode)</h3>
<p>The power of <code>cv-section</code> lies in its <strong>Hybrid Mapping Logic</strong>. It combines precise control (via <code>pos-X</code>) with convenient automation (Auto-Fill).</p>
<p>The logic works slot by slot (Argument 0, Argument 1, Argument 2, …) for the chosen Typst function:</p>
<ol type="1">
<li><strong>Check for Explicit Mapping:</strong> Is <code>pos-&lt;current_slot&gt;</code> defined in the shortcode?
<ul>
<li><strong>YES:</strong> Use the provided string. You can use <strong>String Interpolation</strong> to combine columns or add static text (e.g., <code>"{Title} at {Company}"</code>). The columns used here are marked as “consumed”.</li>
<li><strong>NO:</strong> Switch to <strong>Auto-Fill</strong>. Pick the next available column from your data that hasn’t been consumed or excluded yet.</li>
</ul></li>
</ol>
<p>This allows you to customize specific parts of the layout (e.g., combining dates) while letting the rest of the data fill in automatically.</p>
</section>
<section id="string-interpolation-aggregation" class="level3">
<h3 class="anchored" data-anchor-id="string-interpolation-aggregation">String Interpolation &amp; Aggregation</h3>
<p>When using <code>pos-&lt;N&gt;</code>, you can reference column names by wrapping them in curly braces <code>{}</code>.</p>
<section id="simple-reference-combination" class="level4">
<h4 class="anchored" data-anchor-id="simple-reference-combination">1. Simple Reference &amp; Combination</h4>
<ul>
<li><strong>Simple Reference:</strong> <code>pos-0="{Location}"</code> inserts the value of the ‘Location’ column.</li>
<li><strong>Combination:</strong> <code>pos-0="{Start} -- {End}"</code> combines two columns.</li>
<li><strong>Formatting:</strong> <code>pos-1="**{Title}**"</code> adds Markdown formatting or static text around the value.</li>
<li><strong>Static Text:</strong> <code>pos-2="Projects"</code> ignores data columns and passes the static string “Projects”.</li>
</ul>
</section>
<section id="column-aggregation-the-pipe-syntax" class="level4">
<h4 class="anchored" data-anchor-id="column-aggregation-the-pipe-syntax">2. Column Aggregation (The Pipe Syntax)</h4>
<p>You can aggregate multiple columns into a single string using <strong>Tidy Style Selectors</strong> and a <strong>Separator</strong>. This is useful for combining multiple detail columns (e.g., <code>detail_1</code>, <code>detail_2</code>, <code>detail_3</code>) into one block without worrying about empty values.</p>
<p><strong>Syntax:</strong> <code>{ &lt;SELECTOR&gt; | &lt;SEPARATOR&gt; }</code></p>
<ul>
<li><strong>Selector:</strong> A column name, a range (<code>colA:colB</code>), or a helper function (like <code>starts_with</code>).</li>
<li><strong>Separator:</strong> The string used to join the values.</li>
</ul>
<p><strong>Behavior:</strong> * It finds all columns matching the selector. * It filters out empty (<code>NA</code>) values automatically. * It joins the remaining values using the separator.</p>
<p><strong>Example:</strong> <code>"{starts_with('detail') | , }"</code> joins all detail columns with a comma.</p>
<hr>
</section>
</section>
<section id="examples" class="level3">
<h3 class="anchored" data-anchor-id="examples">Examples</h3>
<section id="the-auto-pilot-zero-configuration" class="level4">
<h4 class="anchored" data-anchor-id="the-auto-pilot-zero-configuration">1. The “Auto-Pilot” (Zero Configuration)</h4>
<p>If your spreadsheet columns are already in the correct order for the Typst function (e.g., <code>Date</code>, <code>Title</code>, <code>Company</code>), you don’t need any mapping arguments.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>{{&lt; cv-section </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    sheet="working" </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;}}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li><strong>Result:</strong> Arg 0 gets Col 1, Arg 1 gets Col 2, etc.</li>
</ul>
</section>
<section id="reordering-interpolation" class="level4">
<h4 class="anchored" data-anchor-id="reordering-interpolation">2. Reordering &amp; Interpolation</h4>
<p>Suppose your data has columns <code>Start</code>, <code>End</code>, <code>Job</code>, <code>Employer</code>, but the layout expects the Date (combined) first, then the Job.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>{{&lt; cv-section </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    sheet="working"</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    pos-0="{Start} -- {End}" </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    pos-1="{Job}"</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;}}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li><strong>Slot 0:</strong> Combines ‘Start’ and ‘End’.</li>
<li><strong>Slot 1:</strong> Uses ‘Job’.</li>
<li><strong>Slot 2+:</strong> Auto-fills with remaining columns (e.g., ‘Employer’) automatically.</li>
</ul>
</section>
<section id="adding-static-text-formatting" class="level4">
<h4 class="anchored" data-anchor-id="adding-static-text-formatting">3. Adding Static Text &amp; Formatting</h4>
<p>You can inject labels or format specific fields directly in the shortcode.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb3"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>{{&lt; cv-section </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    sheet="working"</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    pos-1="**{Role}**" </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    pos-2="Team: {TeamName} at {Company}" </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;}}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="handling-gaps-skipping-slots" class="level4">
<h4 class="anchored" data-anchor-id="handling-gaps-skipping-slots">4. Handling Gaps (Skipping Slots)</h4>
<p>Sometimes a layout function has a slot you want to leave empty (e.g., a subtitle slot you don’t use). You can explicitly set it to an empty string to skip it, or simply map the next slot to a later index.</p>
<p><strong>Option A: Explicit Empty String</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>{{&lt; cv-section </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    sheet="working"</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    pos-1="{Title}"</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    pos-2="" </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;}}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Option B: Jumping Indexes</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>{{&lt; cv-section </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    sheet="working"</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    pos-5="{Description}"</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;}}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="aggregating-columns-dynamic-lists" class="level4">
<h4 class="anchored" data-anchor-id="aggregating-columns-dynamic-lists">5. Aggregating Columns (Dynamic Lists)</h4>
<p>If you have a variable number of detail columns (<code>detail_1</code> to <code>detail_7</code>) and want to join them with a Typst line break (<code>\ \</code>), use the pipe syntax.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb6"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>{{&lt; cv-section </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    sheet="working"</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    pos-5="{starts_with('detail') | <span class="sc">\\</span> <span class="sc">\\</span> }"</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;}}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<hr>
</section>
</section>
<section id="tidy-selection-helpers" class="level3">
<h3 class="anchored" data-anchor-id="tidy-selection-helpers">Tidy Selection Helpers</h3>
<p>Both <code>exclude-cols</code> and the <strong>interpolation syntax <code>{...}</code></strong> support the following helper functions to select columns dynamically:</p>
<ul>
<li><code>starts_with("prefix")</code>: Selects columns starting with the prefix (e.g., <code>starts_with("detail")</code>).</li>
<li><code>ends_with("suffix")</code>: Selects columns ending with the suffix.</li>
<li><code>contains("string")</code>: Selects columns containing the substring.</li>
<li><code>matches("pattern")</code>: Selects columns matching a Lua pattern.</li>
<li><code>col_a:col_b</code>: Selects a range of columns from <code>col_a</code> to <code>col_b</code> (inclusive).</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb7"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>{{&lt; cv-section </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    sheet="working"</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    exclude-cols="id, notes, starts_with('internal_')"</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;}}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
</section>
<section id="displaying-the-publications-list-.quarto-shortcode__-param-data-is-shortcode1-data-valuepublications-list-data-rawpublications-list-.quarto-shortcode__-data-is-shortcode1-data-raw-publications-list" class="level2">
<h2 class="anchored" data-anchor-id="displaying-the-publications-list-.quarto-shortcode__-param-data-is-shortcode1-data-valuepublications-list-data-rawpublications-list-.quarto-shortcode__-data-is-shortcode1-data-raw-publications-list">2. Displaying the Publications List (<code>{{&lt; publications-list &gt;}}</code>)</h2>
<p>This shortcode automatically generates a formatted bibliography from one or more bibliography files.</p>
<section id="arguments-1" class="level3">
<h3 class="anchored" data-anchor-id="arguments-1">Arguments</h3>
<p>You can configure the bibliography globally in the YAML header (under <code>publication-list:</code>) or locally by passing arguments to the shortcode. Local arguments override YAML settings.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 50%">
<col style="width: 50%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Argument</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>bib-file</code></td>
<td style="text-align: left;">Path to the bibliography file(s). You can list multiple files separated by commas (e.g., <code>"papers.bib, talks.json"</code>). Formats can be mixed. Defaults to example bibliography files for all formats.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>bib-style</code></td>
<td style="text-align: left;">Path to the CSL style file. Defaults to an altered version of the CSL for APA 7. edition.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>default-label</code></td>
<td style="text-align: left;">Default Label for uncategorized items (Default: <code>"Other"</code>).</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>group-labels</code></td>
<td style="text-align: left;">Comma-separated key=value string mapping Pandoc types to custom headers (e.g., <code>"article=Papers, conference=Talks"</code>). <strong>Note:</strong> Keys must match standard Pandoc types (e.g., <code>article</code>, <code>book</code>, <code>conference</code>).</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>group-order</code></td>
<td style="text-align: left;">Comma-separated list string defining the sort order. Works exactly like <code>column-order</code> (supports indexing).</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>author-name</code></td>
<td style="text-align: left;">Name to highlight (e.g., “Doe, J.”).</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>highlight-author</code></td>
<td style="text-align: left;">Style for highlighting. Accepts keywords (<code>bold</code>, <code>italic</code>, <code>color</code>) or a custom Typst string pattern (e.g., <code>"#strong[%s]"</code>).</td>
</tr>
</tbody>
</table>
</section>
<section id="configuration-interaction" class="level3">
<h3 class="anchored" data-anchor-id="configuration-interaction">Configuration &amp; Interaction</h3>
<p>The power of this shortcode lies in combining global and local configuration. Local arguments override YAML settings.</p>
<section id="example-1-multiple-lists-mixed-sources" class="level4">
<h4 class="anchored" data-anchor-id="example-1-multiple-lists-mixed-sources">Example 1: Multiple Lists (Mixed Sources)</h4>
<p>Define the style and author globally in YAML, but specify the files locally.</p>
<p><strong>YAML:</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">publication-list</span><span class="kw">:</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">bib-style</span><span class="kw">:</span><span class="at"> </span><span class="st">"assets/bib/apa-cv.csl"</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">author-name</span><span class="kw">:</span><span class="at"> </span><span class="st">"Doe, J."</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><strong>Document:</strong></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">## Peer-Reviewed Papers</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>{{&lt; publication-list bib-file="journals.bib, conferences.yaml" &gt;}}</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">## Presentations</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>{{&lt; publication-list bib-file="talks.json" &gt;}}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="example-2-grouping-and-ordering" class="level4">
<h4 class="anchored" data-anchor-id="example-2-grouping-and-ordering">Example 2: Grouping and Ordering</h4>
<p>You can customize the group labels (using Pandoc types) and their order (using names or indices).</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb10"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>{{&lt; publication-list </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    group-labels="article=Journal Papers, conference=Conference Proceedings" </span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    group-order="Journal Papers=1, Conference Proceedings=2, Other" </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="at">&gt;}}</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Note that <code>group-order</code> uses the <strong>custom labels</strong> you defined.</p>
</section>
</section>
<section id="author-highlighting" class="level3">
<h3 class="anchored" data-anchor-id="author-highlighting">Author Highlighting</h3>
<p>You can highlight specific author names (e.g., make them bold) in the bibliography.</p>
<ol type="1">
<li><strong>Automatic Inference:</strong> If <code>author-name</code> is not set, the extension attempts to infer it from the <code>author.lastname</code> and <code>author.firstname</code> fields in your YAML header.
<ul>
<li><strong>Note:</strong> This works best for citation styles that use the standard <code>Lastname, F.</code> format.</li>
</ul></li>
<li><strong>Manual Configuration:</strong> Set <code>author-name</code> to the exact string produced by the citation style (e.g., “Doe, J.” for APA).</li>
</ol>
<p><strong>Styling (<code>highlight-author</code>):</strong> You can customize how the name is highlighted using keywords or Pandoc Native Markdown Syntax.</p>
<ul>
<li><code>bold</code> (Default) -&gt; <strong>Doe, J.</strong></li>
<li><code>italic</code> -&gt; <em>Doe, J.</em></li>
<li><code>color</code> -&gt; Uses the document’s accent color.</li>
<li><strong>Custom Pandoc String:</strong> You can pass a native Pandoc Markdown format string where <code>%s</code> represents the author name.
<ul>
<li>Example: <code>highlight-author='[%s]{color="#5e81ac" font-weight="bold"}'</code></li>
</ul></li>
</ul>
</section>
</section>
<section id="visualizing-skills-.quarto-shortcode__-param-data-is-shortcode1-data-valuevisualize-skills-data-rawvisualize-skills-.quarto-shortcode__-data-is-shortcode1-data-raw-visualize-skills" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-skills-.quarto-shortcode__-param-data-is-shortcode1-data-valuevisualize-skills-data-rawvisualize-skills-.quarto-shortcode__-data-is-shortcode1-data-raw-visualize-skills">3. Visualizing Skills (<code>{{&lt; visualize-skills &gt;}}</code>)</h2>
<p>To create a graphical representation of your skills (bar charts), you can use the `visualize-skills shortcode.</p>
<section id="prerequisites" class="level3">
<h3 class="anchored" data-anchor-id="prerequisites">Prerequisites</h3>
<p>Your data sheet must contain a column named <code>value</code> with numeric values between <code>0.0</code> and <code>1.0</code>.</p>
</section>
<section id="usage" class="level3">
<h3 class="anchored" data-anchor-id="usage">Usage</h3>
<p>Use the <code>{{&lt; visualize-skills &gt;}}</code> shortcode. This will process your skills data and render the visualization.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">## Skills</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>{{&lt; visualize-skills sheet="skills" &gt;}}</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>